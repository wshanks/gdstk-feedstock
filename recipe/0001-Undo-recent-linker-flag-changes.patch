From b0855260d192895995583b007c9484945178bb7a Mon Sep 17 00:00:00 2001
From: Will Shanks <willshanks@us.ibm.com>
Date: Sat, 30 Dec 2023 12:01:01 -0500
Subject: [PATCH] Undo recent linker flag changes

---
 setup.py | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

diff --git a/setup.py b/setup.py
index 4e0bd28..da1a9e5 100644
--- a/setup.py
+++ b/setup.py
@@ -85,7 +85,15 @@ extra_compile_args = []
 extra_link_args = []
 if platform.system() == "Darwin":
     extra_compile_args.extend(["-std=c++11", "-mmacosx-version-min=10.9"])
-    extra_link_args.extend(["-undefined", "dynamic_lookup", "-flat_namespace"])
+    extra_link_args.extend(
+        [
+            "-stdlib=libc++",
+            "-mmacosx-version-min=10.9",
+            "-undefined",
+            "dynamic_lookup",
+            "-flat_namespace",
+        ]
+    )
 
 setuptools.setup(
     ext_modules=[
-- 
2.43.0

